{
  "comments": [
    {
      "key": {
        "uuid": "AAAA+3//7dQ\u003d",
        "filename": "arch/arm/mach-msm/clock-voter.h",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000413
      },
      "writtenOn": "2011-01-27T00:39:37Z",
      "side": 1,
      "message": "this is silly. We shouldn\u0027t hard code it like this. I don\u0027t like this voter mechanism. We should use clkdev to define clk duplicates for the shared clocks. Look at how Colin did shared clocks it for tegra. I like that approach much better and more extensible. To that end, i\u0027d like to rename voter to shared. Take a look at:\n\nhttp://android.git.kernel.org/?p\u003dkernel/tegra.git;a\u003dblob;f\u003darch/arm/mach-tegra/tegra2_clocks.c;h\u003d2f809e0219b753a709506583be03301a212b9094;hb\u003drefs/heads/linux-tegra-2.6.36\n\nclkdev wrappers are in:\n\nhttp://android.git.kernel.org/?p\u003dkernel/tegra.git;a\u003dblob;f\u003darch/arm/mach-tegra/clock.c;h\u003de97cc2532aef3d35cc849810a5c6bfba03a2b912;hb\u003drefs/heads/linux-tegra-2.6.36",
      "revId": "7497257a598875333fa8c9362bee9aed2c04a99b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA+3//7cU\u003d",
        "filename": "arch/arm/mach-msm/clock-voter.h",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1003665
      },
      "writtenOn": "2011-01-27T04:13:53Z",
      "side": 1,
      "message": "Dima,\n\nI took a look at the latest code in your android-tegra-2.6.36 tree. Colin uses strings and we use enum list. Both the tegra code and this one need to manually add entries to a table if you want to add more voters. I\u0027m not sure it makes much of a difference.\n\nThe aggregation code is similar too. Our code does some extra short circuiting to avoid having to update the parent clock\u0027s rate since it might be a clock controlled by a remote processor.\n\nCan you mind accepting this as is?",
      "parentUuid": "AAAA+3//7dQ\u003d",
      "revId": "7497257a598875333fa8c9362bee9aed2c04a99b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA+3//7cE\u003d",
        "filename": "arch/arm/mach-msm/clock-voter.h",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000413
      },
      "writtenOn": "2011-01-27T04:36:57Z",
      "side": 1,
      "message": "I do mind because I disagree with this design.\n\nThe issue is that your approach need a predefined enum to support a new clock votee. You also need to define a new clock name. Then, when a driver needs to get a reference on the clock, every driver requests it with a different name. I would much prefer them all to use the same name since they are all getting an alias to the requested clock. Furthermore, i don\u0027t think we should be calling it \"ebi1_clk\" either because ebi1 is very specific to the chips in question. For instance, on 8960 will \"ebi1_clk\" make sense? I doubt it.",
      "parentUuid": "AAAA+3//7cU\u003d",
      "revId": "7497257a598875333fa8c9362bee9aed2c04a99b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA+3//7b8\u003d",
        "filename": "arch/arm/mach-msm/clock-voter.h",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1003665
      },
      "writtenOn": "2011-01-27T04:58:59Z",
      "side": 1,
      "message": "Dima,\n\nThe names are fixed in a later patch after we move to clkdev. Those patches weren\u0027t pushed yet because we weren\u0027t sure if you were willing to move to clkdev. If you pick up clkdev, the only issue would be having to add a new enum if we add a clock votee (which is still manual).\n\nWe can actually make the whole thing dynamic, including adding new votees, but it would need a minor change to clkdev in upstream. I didn\u0027t want to block the rest of the clean up trying to get the clkdev change done.\n\nIf the clk name is fixed in a later patch, is this okay as is then?",
      "parentUuid": "AAAA+3//7cE\u003d",
      "revId": "7497257a598875333fa8c9362bee9aed2c04a99b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA+3//7bk\u003d",
        "filename": "arch/arm/mach-msm/clock-voter.h",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000413
      },
      "writtenOn": "2011-01-27T06:20:31Z",
      "side": 1,
      "message": "I can\u0027t tell you that it\u0027s okay as is because I don\u0027t have the other patches to see how you fixed it.\n\nI just don\u0027t understand the need for adding a useless enum value for a new votee. There are better ways of doing it.\n\nwhat do you to change to upstream clkdev? Note that we realy should not mess much with upstream clkdev considering that the more generic clk code will proabbly make it in sometimes around 39.",
      "parentUuid": "AAAA+3//7b8\u003d",
      "revId": "7497257a598875333fa8c9362bee9aed2c04a99b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}